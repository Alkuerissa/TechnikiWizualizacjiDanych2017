source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
columns(res)
df <- data.frame(res)
res
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
jsonlite::fromJSON(as.character(res)) %>% as.data.frame
as.data.frame(res)
colnames(res)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
res %>% as.data.frame
res
head(res)
install.packages(c("maps", "mapdata"))
install.packages('ggmap')
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
ggplot() + geom_polygon(data = res, aes(x = lon, y = lat))
data(world.cities)
cities_lon_lat <- world.cities[!duplicated(world.cities$name),]
rownames(cities_lon_lat) = cities_lon_lat[,1]
cities_lon_lat <- cities_lon_lat[cities_lon_lat$pop > 50000,
library(rvest)
library(httr)
library(jsonlite)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
linie <- "10,17,33"
token2 <- "35dbb2ebd27b23cfbec359dbd560adf2d4a5b27b"
res_short <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/short/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- jsonlite::fromJSON(as.character(res))
head(res)
data(world.cities)
cities_lon_lat <- world.cities[!duplicated(world.cities$name),]
rownames(cities_lon_lat) = cities_lon_lat[,1]
cities_lon_lat <- cities_lon_lat[cities_lon_lat$pop > 50000,]
cities_lon_lat
cities$name
cities_lon_lat$name
warsaw <- cities %>% filter(name == "Warsaw")
warsaw <- cities_lon_lat %>% filter(name == "Warsaw")
colnames(cities_lon_lat)
warsaw <- cities_lon_lat %>% filter("name" == "Warsaw")
warsaw
warsaw <- cities_lon_lat %>% filter(name == warsaw)
warsaw <- cities_lon_lat %>% filter(name == Warsaw)
warsaw <- cities_lon_lat %>% filter("name" == "Warsaw")
warsaw <- cities_lon_lat %>% filter("name" == "Warszawa")
apply(cities_lon_lat, 1, function(r) any(r %in% "War"))
warsaw <- cities_lon_lat[apply(cities_lon_lat, 1, function(r) any(r %in% "War")), ]
warsaw
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
install.packages('leaflet')
res
map <- leaflet() %>% addTiles() %>% addMarkers(lng=res$lon[0], lat=res$lat[0])
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
map <- leaflet() %>% addTiles() %>% addMarkers(lng=res$lon[0], lat=res$lat[0])
map
map <- leaflet() %>% addTiles() %>% addMarkers(lng=res$lon[0], lat=res$lat[0], pupup='location1')
map <- leaflet() %>% addTiles() %>% addMarkers(lng=res$lon[0], lat=res$lat[0], popup='location1')
res$lat[0]
res$lat
res$lat[1]
map <- leaflet() %>% addTiles() %>% addMarkers(lng=res$lon[1], lat=res$lat[1], popup='location1')
map
res$lon[1]
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
qmplot(lon, lat, data = res)
names(res)
res$delay
res_delayed <- res %>% filter(delay >= 100)
res_delayed <- res %>% filter("delay" >= 100)
res_delayed
res$delay
res[res$delay >= 100, ]
res
dim(res)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
dim(res)
res$delay
res_d <- res %>% filter(delay >= 100)
res
data.frame(res)
res <- as.data.frame(res)
res_d %>% res %>% filter(delay > 100)
res_d <- res %>% filter(delay > 100)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
"""
map <- leaflet() %>% setView(lng = 21, lat = 52.23233, zoom = 11) %>%
addTiles() %>% addMarkers(lng=res$lon[1], lat=res$lat[1], popup='location1')
qmplot(lon, lat, data = res)
"""
library(rvest)
library(httr)
library(jsonlite)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
library(leaflet)
linie <- "10,17,33"
token2 <- "35dbb2ebd27b23cfbec359dbd560adf2d4a5b27b"
res_short <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/short/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- jsonlite::fromJSON(as.character(res))
res
res$delay
names(res)
res#"delay"
typeof(res)
res[0]
res[1]
typeof(res[1])
do.call(rbind, res)
rdf <- as.data.frame(do.call(rbind, res))
rdf
t(rdf)
library(rvest)
library(httr)
library(jsonlite)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
library(leaflet)
linie <- "10,17,33"
token2 <- "35dbb2ebd27b23cfbec359dbd560adf2d4a5b27b"
res_short <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/short/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- jsonlite::fromJSON(res)
column_names <- names(res)
map <- leaflet() %>% setView(lng = 21, lat = 52.23233, zoom = 11) %>%
addTiles() %>% addMarkers(lng=res$lon[1], lat=res$lat[1], popup='location1')
qmplot(lon, lat, data = res)
library(rvest)
library(httr)
library(jsonlite)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
library(leaflet)
linie <- "10,17,33"
token2 <- "35dbb2ebd27b23cfbec359dbd560adf2d4a5b27b"
res_short <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/short/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- jsonlite::fromJSON(as.character(res))
column_names <- names(res)
map <- leaflet() %>% setView(lng = 21, lat = 52.23233, zoom = 11) %>%
addTiles() %>% addMarkers(lng=res$lon[1], lat=res$lat[1], popup='location1')
qmplot(lon, lat, data = res)
res
res_d <- res %>% filter(delay > "100")
res <- as.data.frame(res)
res
typeof(res)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
res
typeof(res)
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res
library(rvest)
library(httr)
library(jsonlite)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
library(leaflet)
linie <- "10,17,33"
token2 <- "35dbb2ebd27b23cfbec359dbd560adf2d4a5b27b"
res_short <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/short/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- content(res, as="text")
new <- fromJSON(res)
#res <- jsonlite::fromJSON(as.character(res))
column_names <- names(res)
map <- leaflet() %>% setView(lng = 21, lat = 52.23233, zoom = 11) %>%
addTiles() %>% addMarkers(lng=res$lon[1], lat=res$lat[1], popup='location1')
qmplot(lon, lat, data = res)
new
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/pr1.R', echo=TRUE)
library(rvest)
library(httr)
library(jsonlite)
library(ggplot2)
library(ggmap)
library(maps)
library(mapdata)
library(leaflet)
linie <- "10,17,33"
token2 <- "35dbb2ebd27b23cfbec359dbd560adf2d4a5b27b"
res_short <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/short/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- GET(url = paste0("https://vavel.mini.pw.edu.pl/api/vehicles/v1/full/?line=", linie),
add_headers(Authorization = paste("Token", token2)))
res <- content(res, as="text")
res <- jsonlite::fromJSON(as.character(res))
column_names <- names(res)
res
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/proj_beta.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/proj_beta.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/proj_beta.R', echo=TRUE)
qmplot(data = res_filtered, lon, lat)
qmplot(lon, lat, data = res_delayed, maptype = "toner-lite", color=line, size=delay)
res
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/proj_beta.R', echo=TRUE)
source('~/Projects/TWD/Moje/TechnikiWizualizacjiDanych2017/Projekt_1/proj_beta.R', echo=TRUE)
